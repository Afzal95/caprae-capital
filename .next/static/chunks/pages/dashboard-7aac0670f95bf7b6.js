(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1075:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(7521)}])},1398:function(e,s,a){"use strict";a.d(s,{Z:function(){return n}});var t=a(5893),l=a(7294),d=a(1664),i=a.n(d),c=a(5007),r=a(1163);function n(e){let{children:s}=e,a=(0,c.v9)(e=>e.user.profileCompletion),d=(0,c.v9)(e=>e.user),n=!!d&&!!d.email||(null==d?void 0:d.isAuthenticated),m=(0,r.useRouter)();return l.useEffect(()=>{!n&&["/dashboard","/deals","/profile","/matches","/messages","/settings"].includes(m.pathname)&&m.replace("/")},[n,m.pathname]),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)("header",{className:"bg-white shadow mb-6",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-3 flex items-center",children:(0,t.jsx)("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>m.push(n?"/role":"/"),children:(0,t.jsx)("span",{className:"font-bold text-xl text-teal-700",children:"Caprae"})})})}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("aside",{className:"w-64 bg-white border-r p-4",children:[(0,t.jsx)("div",{className:"font-bold text-teal text-lg mb-4",children:"Caprae Platform"}),(0,t.jsxs)("nav",{className:"space-y-2",children:[(0,t.jsx)(i(),{className:"block px-3 py-2 rounded hover:bg-mint/20",href:"/dashboard",children:"Dashboard"}),(0,t.jsx)(i(),{className:"block px-3 py-2 rounded hover:bg-mint/20",href:"/matches",children:"Matches"}),(0,t.jsx)(i(),{className:"block px-3 py-2 rounded hover:bg-mint/20",href:"/deals",children:"Deals"}),(0,t.jsx)(i(),{className:"block px-3 py-2 rounded hover:bg-mint/20",href:"/messages",children:"Messages"}),(0,t.jsx)(i(),{className:"block px-3 py-2 rounded hover:bg-mint/20",href:"/profile",children:"Profile"}),(0,t.jsx)(i(),{className:"block px-3 py-2 rounded hover:bg-mint/20",href:"/settings",children:"Settings"})]}),!n&&(0,t.jsxs)("div",{className:"mt-6 text-sm text-gray-500",children:[(0,t.jsx)("div",{className:"mb-2",children:"You are viewing as a guest. Some features may be limited."}),(0,t.jsx)(i(),{href:"/login",className:"text-teal-600 underline",children:"Login to access full features"})]}),n&&(0,t.jsxs)("div",{className:"mt-6 text-sm",children:[(0,t.jsx)("div",{className:"mb-1 font-medium",children:"Profile Completion"}),(0,t.jsx)("div",{className:"w-full bg-gray-100 rounded h-2",children:(0,t.jsx)("div",{className:"bg-teal h-2 rounded",style:{width:"".concat(a,"%")}})})]})]}),(0,t.jsx)("main",{className:"flex-1 p-6",children:s})]})]})}},7521:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return r}});var t=a(5893),l=a(1398),d=a(5007),i=a(5269),c=a(1163);function r(){let e=(0,d.v9)(e=>e.user),s=(0,d.v9)(e=>e.deals.deals),a=(0,d.I0)(),r=(0,c.useRouter)(),n=s.filter(e=>e.closed),m=s.filter(e=>!e.closed),x=s.filter(e=>e.rejected);return(0,t.jsxs)(l.Z,{children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"card md:col-span-2",children:[(0,t.jsx)("div",{className:"text-lg font-semibold mb-1",children:"Welcome back"}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Role: ",e.role||"â€”"]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("div",{className:"font-medium mb-2",children:"Active Deals"}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"No active deals yet. Go to Matches to start."})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"font-medium mb-2",children:"Alerts"}),(0,t.jsxs)("ul",{className:"list-disc pl-5 text-sm text-gray-700 space-y-1",children:[(0,t.jsx)("li",{children:"Complete your profile to improve matching"}),(0,t.jsx)("li",{children:"Check your messages"})]})]})]}),(0,t.jsxs)("div",{className:"card max-w-2xl mx-auto mt-8",children:[(0,t.jsx)("div",{className:"text-xl font-semibold mb-4",children:"In Progress Deals"}),0===m.length?(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"No in progress deals."}):(0,t.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded shadow",children:[(0,t.jsx)("div",{className:"font-medium text-lg mb-1",children:e.counterpartName}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 mb-1",children:["Stage: ",e.stage]}),(0,t.jsx)("div",{className:"text-sm text-yellow-600 mb-2",children:"Status: In Progress"}),(0,t.jsx)("button",{className:"btn bg-teal text-white",onClick:()=>{a((0,i.mN)(e.id)),r.push("/deals")},children:"View Details"})]},e.id))})]}),(0,t.jsxs)("div",{className:"card max-w-2xl mx-auto mt-8",children:[(0,t.jsx)("div",{className:"text-xl font-semibold mb-4",children:"Closed Deals"}),0===n.length?(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"No closed deals yet."}):(0,t.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded shadow",children:[(0,t.jsx)("div",{className:"font-medium text-lg mb-1",children:e.counterpartName}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 mb-1",children:["Stage: ",e.stage]}),(0,t.jsx)("div",{className:"text-sm text-green-600 mb-2",children:"Status: Closed"}),(0,t.jsx)("button",{className:"btn bg-teal text-white",onClick:()=>{a((0,i.mN)(e.id)),r.push("/deals")},children:"View Details"})]},e.id))})]}),(0,t.jsxs)("div",{className:"card max-w-2xl mx-auto mt-8",children:[(0,t.jsx)("div",{className:"text-xl font-semibold mb-4",children:"Rejected Deals"}),0===x.length?(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"No rejected deals."}):(0,t.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded shadow",children:[(0,t.jsx)("div",{className:"font-medium text-lg mb-1",children:e.counterpartName}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 mb-1",children:["Stage: ",e.stage]}),(0,t.jsx)("div",{className:"text-sm text-red-600 mb-2",children:"Status: Rejected"}),(0,t.jsx)("button",{className:"btn bg-teal text-white",onClick:()=>{a((0,i.mN)(e.id)),r.push("/deals")},children:"View Details"})]},e.id))})]})]})}}},function(e){e.O(0,[424,888,774,179],function(){return e(e.s=1075)}),_N_E=e.O()}]);