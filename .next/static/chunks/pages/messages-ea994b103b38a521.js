(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[313],{9959:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/messages",function(){return a(9461)}])},1398:function(e,s,a){"use strict";a.d(s,{Z:function(){return c}});var l=a(5893),t=a(7294),n=a(1664),r=a.n(n),i=a(5007),d=a(1163);function c(e){let{children:s}=e,a=(0,i.v9)(e=>e.user.profileCompletion),n=(0,i.v9)(e=>e.user),c=!!n&&!!n.email||(null==n?void 0:n.isAuthenticated),o=(0,d.useRouter)();return t.useEffect(()=>{!c&&["/dashboard","/deals","/profile","/matches","/messages","/settings"].includes(o.pathname)&&o.replace("/")},[c,o.pathname]),(0,l.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,l.jsx)("header",{className:"bg-white shadow mb-6",children:(0,l.jsx)("div",{className:"container mx-auto px-4 py-3 flex items-center",children:(0,l.jsx)("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>o.push(c?"/role":"/"),children:(0,l.jsx)("span",{className:"font-bold text-xl text-teal-700",children:"Caprae"})})})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("aside",{className:"w-64 bg-white border-r p-4",children:[(0,l.jsx)("div",{className:"font-bold text-teal text-lg mb-4",children:"Caprae Platform"}),(0,l.jsxs)("nav",{className:"space-y-2",children:[(0,l.jsx)(r(),{className:"block px-3 py-2 rounded hover:bg-mint/20",href:"/dashboard",children:"Dashboard"}),(0,l.jsx)(r(),{className:"block px-3 py-2 rounded hover:bg-mint/20",href:"/matches",children:"Matches"}),(0,l.jsx)(r(),{className:"block px-3 py-2 rounded hover:bg-mint/20",href:"/deals",children:"Deals"}),(0,l.jsx)(r(),{className:"block px-3 py-2 rounded hover:bg-mint/20",href:"/messages",children:"Messages"}),(0,l.jsx)(r(),{className:"block px-3 py-2 rounded hover:bg-mint/20",href:"/profile",children:"Profile"}),(0,l.jsx)(r(),{className:"block px-3 py-2 rounded hover:bg-mint/20",href:"/settings",children:"Settings"})]}),!c&&(0,l.jsxs)("div",{className:"mt-6 text-sm text-gray-500",children:[(0,l.jsx)("div",{className:"mb-2",children:"You are viewing as a guest. Some features may be limited."}),(0,l.jsx)(r(),{href:"/login",className:"text-teal-600 underline",children:"Login to access full features"})]}),c&&(0,l.jsxs)("div",{className:"mt-6 text-sm",children:[(0,l.jsx)("div",{className:"mb-1 font-medium",children:"Profile Completion"}),(0,l.jsx)("div",{className:"w-full bg-gray-100 rounded h-2",children:(0,l.jsx)("div",{className:"bg-teal h-2 rounded",style:{width:"".concat(a,"%")}})})]})]}),(0,l.jsx)("main",{className:"flex-1 p-6",children:s})]})]})}},4738:function(e,s,a){"use strict";a.d(s,{Z:function(){return i}});var l=a(5893),t=a(5007),n=a(5269),r=a(7294);function i(e){let{deal:s}=e,a=(0,t.I0)(),[i,d]=(0,r.useState)("");return(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"font-semibold mb-2",children:"Messages"}),(0,l.jsx)("div",{className:"h-48 overflow-auto border rounded-xl2 p-2 bg-gray-50",children:s.messages.map(e=>(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:[e.from," • ",new Date(e.at).toLocaleString()]}),(0,l.jsx)("div",{children:e.text})]},e.id))}),(0,l.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,l.jsx)("input",{className:"flex-1 border rounded-xl2 p-2",value:i,onChange:e=>d(e.target.value),placeholder:"Type a message..."}),(0,l.jsx)("button",{className:"btn bg-teal text-white",onClick:()=>{i&&(a((0,n.bG)({dealId:s.id,from:"you",text:i})),d(""))},children:"Send"})]}),(0,l.jsxs)("div",{className:"mt-2 text-sm",children:["Quick templates:",(0,l.jsx)("div",{className:"flex gap-2 mt-1",children:["Please share updated LOI","Let’s schedule diligence call","Sharing NDA shortly"].map(e=>(0,l.jsx)("button",{className:"tag hover:bg-mint/50",onClick:()=>a((0,n.bG)({dealId:s.id,from:"you",text:e})),children:e},e))})]})]})}},9461:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return i}});var l=a(5893),t=a(1398),n=a(5007),r=a(4738);function i(){let e=(0,n.v9)(e=>e.deals.deals)[0];return(0,l.jsxs)(t.Z,{children:[(0,l.jsx)("div",{className:"mb-4 text-xl font-semibold",children:"Messages"}),e?(0,l.jsx)(r.Z,{deal:e}):(0,l.jsx)("div",{className:"card",children:"No conversations yet."})]})}}},function(e){e.O(0,[424,888,774,179],function(){return e(e.s=9959)}),_N_E=e.O()}]);